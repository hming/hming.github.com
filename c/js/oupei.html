<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<title>计算器</title>
	</head>

	<body>
		<table>
			<tr>
				<td>上盘:</td>
				<td>
					<input type="text" id="sp_s" style="width: 40px;" maxlength="5" placeholder="水位">
				</td>
				<td>

					<input type="text" id="sp_t" style="width: 80px;" placeholder="投注">
				</td>
			</tr>
			<tr>
				<td>下盘:</td>
				<td>
					<input type="text" id="xp_s" style="width: 40px;" maxlength="5" placeholder="水位">

				</td>
				<td>
					<input type="text" id="xp_t" style="width: 80px;" placeholder="投注">
				</td>
			</tr>
			<tr>
				<td>盈利:</td>
				<td colspan="2"><strong id="yl"></strong> </td>
			</tr>
		</table>
	</body>
	<script src="js/jquery-1.11.1.min.js"></script>
	<script>
		$(function() {
			$("input").keyup(function() {
				var sp_t = $('#sp_t');
				var sp_s = $('#sp_s');
				var xp_t = $('#xp_t');
				var xp_s = $('#xp_s');
				var yl = $('#yl');

				if($(this).prop('id')=='sp_t'){
					xp_t.val((parseFloat(sp_t.val())*(1.0+parseFloat(sp_s.val()))/(1.0+parseFloat(xp_s.val()))).toFixed(2));
				}
				if($(this).prop('id')=='xp_t'){
					sp_t.val((parseFloat(xp_t.val())*(1.0+parseFloat(xp_s.val()))/(1.0+parseFloat(sp_s.val()))).toFixed(2));
				}
				yl_num = parseFloat(sp_t.val())*parseFloat(sp_s.val())-parseFloat(xp_t.val()) ;
				yl.text(yl_num.toFixed(2));
			});
		});
	</script>

</html>